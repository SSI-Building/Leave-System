<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
  /* Default Theme: Blue-Green */
  :root {
    --primary-color-start: #1994b6;
    --primary-color-end: #36a761;
    --text-color: #333;
    --light-text-color: #666;
    --background-color: #f0f2f5;
    --card-background: #ffffff;
    --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08);
    --border-color: #e0e0e0;
  }

  /* Theme CSS ... (‡πÉ‡∏™‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á) */
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <img src="" alt="Profile" class="profile-pic" id="profilePic">
    <div>
      <div class="greeting">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, <span id="empName">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</span> üëã</div>
      <div class="motivation">‡∏û‡∏±‡∏Å‡∏ö‡πâ‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ üí™</div>
    </div>
    <i class="fas fa-cog settings-icon" id="settingsIcon"></i>
  </div>

  <div class="theme-selector" id="themeSelector">
    <div class="theme-option" data-theme="default">‡∏™‡∏µ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏ü‡πâ‡∏≤-‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)</div>
    <div class="theme-option" data-theme="orange-purple">‡∏™‡∏µ‡∏™‡πâ‡∏°-‡∏°‡πà‡∏ß‡∏á</div>
    <div class="theme-option" data-theme="blue-violet">‡∏™‡∏µ‡∏ü‡πâ‡∏≤-‡∏°‡πà‡∏ß‡∏á</div>
    <div class="theme-option" data-theme="pink-purple">‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π-‡∏°‡πà‡∏ß‡∏á</div>
    <div class="theme-option" data-theme="green-gold">‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß-‡∏ó‡∏≠‡∏á</div>
    <div class="theme-option" data-theme="red-orange">‡∏™‡∏µ‡πÅ‡∏î‡∏á-‡∏™‡πâ‡∏°</div>
    <div class="theme-option" data-theme="teal-navy">‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô-‡∏Å‡∏£‡∏°‡∏ó‡πà‡∏≤</div>
    <div class="theme-option" data-theme="monochrome">Monochrome</div>
    <div class="theme-option" data-theme="dark">Dark Mode</div>
  </div>

  <div class="tabs-container">
    <div class="tabs">
      <div class="tab active" onclick="openTab(event, 'remain')">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
      <div class="tab" onclick="openTab(event, 'used')">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</div>
    </div>
  </div>

  <div class="table-container">
    <div id="remain" class="tab-content active">
      <table>
        <tr><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô</th></tr>
        <tr><td>‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô</td><td id="remainAL">0</td></tr>
        <tr><td>‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</td><td id="remainSL">0</td></tr>
        <tr><td>‡∏•‡∏≤‡∏Å‡∏¥‡∏à</td><td id="remainBL">0</td></tr>
      </table>
    </div>

    <div id="used" class="tab-content">
      <table>
        <tr><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô</th></tr>
        <tr><td>‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô</td><td id="usedAL">0</td></tr>
        <tr><td>‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</td><td id="usedSL">0</td></tr>
        <tr><td>‡∏•‡∏≤‡∏Å‡∏¥‡∏à</td><td id="usedBL">0</td></tr>
        <tr><td>‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏™‡∏°</td><td id="usedA">0</td></tr>
      </table>
    </div>
  </div>

  <div class="buttons">
    <button class="btn"><i class="fas fa-calendar-plus"></i> ‡∏•‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</button>
    <button class="btn"><i class="fas fa-clock"></i> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
  </div>
</div>

<script src="https://static.line-scdn.net/liff/edge/2.25/sdk.js"></script>
<script>
async function initializeApp() {
  await liff.init({ liffId: "2007956727-6V7DrnMD" }); // ‡πÉ‡∏™‡πà LIFF ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
  const profile = await liff.getProfile();
  const lineUserId = profile.userId;

  // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
  document.getElementById("profilePic").src = profile.pictureUrl;

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Google Apps Script API
  fetch("https://script.google.com/macros/s/AKfycbw1Iq0xwNGax014fKV9m_oFvUF5eTdXLZXNEfW0BiHBXburZu40-YTkzjcye9qcsiga/exec", {
    method: "POST",
    body: JSON.stringify({ lineUserId }),
  })
  .then(res => res.json())
  .then(data => {
    if(data.balance){
      document.getElementById("empName").innerText = data.balance.name;
      document.getElementById("remainAL").innerText = data.balance.AL;
      document.getElementById("remainSL").innerText = data.balance.SL;
      document.getElementById("remainBL").innerText = data.balance.BL;
    }
    if(data.records){
      document.getElementById("usedAL").innerText = data.records.AL;
      document.getElementById("usedSL").innerText = data.records.SL;
      document.getElementById("usedBL").innerText = data.records.BL;
      document.getElementById("usedA").innerText = data.records.A;
    }
  })
  .catch(err => console.error(err));
}

initializeApp();

function openTab(evt, tabId) {
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
  evt.currentTarget.classList.add("active");
  document.getElementById(tabId).classList.add("active");
}

document.getElementById('settingsIcon').addEventListener('click', function() {
  document.getElementById('themeSelector').classList.toggle('active');
});

document.querySelectorAll('.theme-option').forEach(option => {
  option.addEventListener('click', function() {
    const theme = this.getAttribute('data-theme');
    document.body.className = theme === 'default' ? '' : 'theme-' + theme;
    document.getElementById('themeSelector').classList.remove('active');
  });
});
</script>
</body>
</html>
